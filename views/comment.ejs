<link rel="stylesheet" href="header.css" />
<link rel="stylesheet" href="comment.css" />

<!-- <div class="container">
    <div
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
    >
      <ul
        class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"
      >
        <li><a href="#" class="nav-link px-2 text-secondary">Home</a></li>
      </ul>

      <div class="text-end">
        <button type="button" class="btn btn-outline-light me-2">Login</button>
        <button type="button" class="btn btn-warning">Sign-up</button>
      </div>
    </div>
  </div>
</header> -->

<header class="header">
  <nav class="header_nav">
    <span class="header_nav_home">
      <a href="/"><img src="img/logo005.png" class="logo" /></a>
    </span>
    <span class="header_nav_content">
      <div class="header_upper">
        <div class="header_nav_columns">
          <a href="/login">로그인</a>
          <a href="/join">회원가입</a>
        </div>
      </div>
      <div class="header_under">
        <span class="header_under_zone1">
          <a href="/">빠른예매</a>
          <a href="/">공연정보</a>
          <a href="/">극장정보</a>
          <a href="/"></a>
        </span>
        <span class="header_under_zone2">
          <form>
            <p>
              <input type="text" class="form-text" placeholder="공연명 검색" />
              <input type="button" class="img-button" />
            </p>
          </form>
        </span>
      </div>
    </span>
  </nav>
</header>

<body>
  <%#= msg %>
</body>
<div class="row">
  <div class="card card-margin search-form">
    <div class="card-body p-0">
      <form id="search-form">
        <div id="row-box">
          <div class="col-12">
            <div id="row-no-gutters">
              <div class="col-lg-3 col-md-3 col-sm-12 p-0">
                <label for="search-type" hidden>검색 유형</label>
                <select class="form-control" id="search-type" name="searchType">
                  <option>제목</option>
                  <option>본문</option>
                  <option>id</option>
                  <option>닉네임</option>
                  <option>해시태그</option>
                </select>
              </div>
              <div class="col-lg-8 col-md-6 col-sm-12 p-0">
                <label for="search-value" hidden>검색어</label>
                <input
                  type="text"
                  placeholder="검색어..."
                  class="form-control"
                  id="search-value"
                  name="searchValue"
                />
              </div>
              <div class="col-lg-1 col-md-3 col-sm-12 p-0">
                <button type="submit" class="btn btn-base">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-search"
                  >
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="row1">
  <table class="table" id="article-table">
    <thead>
      <tr>
        <th class="title col-6"><a>제목</a></th>
        <th class="hashtag col-2"><a>해시태그</a></th>
        <th class="user-id"><a>작성자</a></th>
        <th class="created-at"><a>작성일</a></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="title"><a>첫글</a></td>
        <td class="hashtag">#java</td>
        <td class="user-id">Uno</td>
        <td class="created-at">
          <time>2022-01-01</time>
        </td>
      </tr>
      <tr>
        <td>두번째글</td>
        <td>#spring</td>
        <td>Uno</td>
        <td>
          <time>2022-01-02</time>
        </td>
      </tr>
      <tr>
        <td>세번째글</td>
        <td>#java</td>
        <td>Uno</td>
        <td>
          <time>2022-01-03</time>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="row2">
  <div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <a class="btn btn-primary me-md-2" role="button" id="write-article"
      >글쓰기</a
    >
    <!-- <form>
      <p>
        <input type="text" class="form-text" placeholder=" 여기 글써" />
        <input type="button" class="img-button" onclick="comment()" />
      </p>
    </form> -->

    <form id="user-form">
      <fieldset>
        <legend>댓글작성</legend>
        <div><input id="commentId" type="text" placeholder="글작성" /></div>
        <!-- <div><input id="age" type="number" placeholder="나이" /></div> -->
        <!-- <div>
          <input id="married" type="checkbox" /><label for="married"
            >결혼 여부</label
          >
        </div> -->
        <button type="submit">등록</button>
      </fieldset>
    </form>
  </div>
</div>

<div class="row">
  <nav id="pagination" aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="page-link" href="#">Previous</a></li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">Next</a></li>
    </ul>
  </nav>
</div>

<footer
  class="container d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top"
>
  <p class="col-md-4 mb-0 text-muted">&copy; 2022 Company, JYC</p>
  <ul class="nav col-md-4 justify-content-end">
    <li class="nav-item">
      <a href="#" class="nav-link px-2 text-muted">Home</a>
    </li>
  </ul>
</footer>

<!-- 모든 커맨트만가져올수 있음 
리뷰 페이지만들고 그 안에 커멘트 작성  -->
<!-- 1. 특정 공연을 가져오는 요청 content id 가져와서 화면에 보여주는거 -->
<!--  -->

<!-- localhost:3000/review/4 리뷰 Api -->
<!-- review/4/comment/1  // ?? api 수정 해야 ? -->
<!-- reveiws/1/comments -->

<!-- 1. content 정보 가져오기 2. comment 정보 가져오기  -->
<!-- ajax 순서대로  ajax then .. 검색 .. -->
<!--  review  호출 해서 contentId 가져온 후 / content 호출  -->

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"
></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
  $(document).ready(function () {
    const reviewId = '<%= reviewId %>'; ///1
    getAll(reviewId); // 인자 정해짐  //2

    // get All 가져오기
    async function getAll(reviewId) {
      const review = await $.ajax({
        type: 'Get',
        url: `/review/${reviewId}`,
      });

      const comments = await $.ajax({
        type: 'Get',
        url: `/comments`,
      });

      console.log(review);
      console.log(comments);
    }

    // content Info 가져오기
  });
</script>
